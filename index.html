<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Boletera — Home con hero + dropdown</title>
<style>
  :root{
    --text: #e5e7eb;
    --muted: #cbd5e1;
    --brand: #ff4927;
    --glass-bg: rgba(255,255,255,0.08);
    --glass-border: rgba(255,255,255,0.18);
    --btn-radius: 8px;
    --mobile-btn-bg: #ffffff;
    --mobile-btn-border: #d1d5db;
    --mobile-icon: #000000;
  }
  *,*::before,*::after{ box-sizing:border-box }
  html,body{ height:100%; margin:0; font:500 16px/1.4 "Inter",ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--text); }

  /* Fondo con Bad Bunny (Home) */
  body{
    background:
      linear-gradient(180deg, rgba(11,15,23,0.55), rgba(11,15,23,0.65)),
      url("https://i.imgur.com/gY8jBal.png") center/cover no-repeat fixed;
  }
  .container{ width:min(1200px,92vw); margin:0 auto }

  /* Glass util */
  .glass{
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    -webkit-backdrop-filter: blur(14px) saturate(140%);
    backdrop-filter: blur(14px) saturate(140%);
    box-shadow: 0 1px 0 rgba(255,255,255,0.06) inset, 0 10px 30px rgba(0,0,0,0.25);
  }

  /* ===== NAV DESKTOP ===== */
  .navbar-wrap{ position:sticky; top:0; z-index:100 }
  .navbar{ display:flex; align-items:center; gap:16px; padding:16px 0; white-space:nowrap; }
  .logo-img{ height:32px; }

  .search{ display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:999px; position:relative; transition: background .2s, border-color .2s, box-shadow .2s; flex:0 0 auto; width:auto; max-width:86vw; }
  .search svg{ flex:0 0 20px; opacity:.9 }
  .search input{ border:0; outline:0; background:transparent; color:inherit; font:inherit; min-width:2ch; }
  .search input::placeholder{ color:#e5e7ebcc }

  .menu{ display:flex; align-items:center; gap:20px; margin-inline:8px }
  .menu a{ color:var(--text); text-decoration:none; opacity:.9; font-size:.9rem }
  .menu a:hover{ opacity:1 }

  .right{ margin-left:auto; display:flex; align-items:center; gap:16px; white-space:nowrap }
  .right a{ color:var(--text); text-decoration:none; opacity:.9; font-size:.9rem }
  .right a:hover{ opacity:1 }
  .flag-img{ width:18px; height:12px; object-fit:cover; display:block; border:1px solid rgba(255,255,255,.35); margin-right:6px }
  .signin{ padding:6px 14px; border-radius: var(--btn-radius); font-weight:600; text-decoration:none; color:var(--text) }
  .signin.glass{ display:inline-block }

  /* Dropdown genérico estilo SeatGeek */
  .dropdown{
    position:absolute; left:0; top:100%; margin-top:10px;
    background:#fff; color:#111; border-radius:16px; border:1px solid rgba(0,0,0,.06);
    box-shadow: 0 20px 50px rgba(0,0,0,.25); padding:16px 0; display:none; overflow:hidden;
  }
  .dropdown.open{ display:block }
  .dd-header{ font-weight:800; padding:8px 20px 14px }
  .dd-list{ max-height:60vh; overflow:auto }
  .dd-item{ display:flex; align-items:center; gap:14px; padding:12px 20px; cursor:pointer }
  .dd-item:hover{ background:#f3f4f6 }
  .dd-icon{ width:40px; height:40px; border-radius:12px; background:#111; display:grid; place-items:center; overflow:hidden }
  .dd-icon img{ width:100%; height:100%; object-fit:cover }
  .dd-text{ font-weight:700 }

  body.search-active .search{ background:#fff; color:#111; border:1px solid rgba(0,0,0,.08); box-shadow:0 10px 30px rgba(0,0,0,.10) }
  body.search-active .search input::placeholder{ color:#9aa0a6 }

  /* ===== NAV MÓVIL ===== */
  .mobile-bar{ display:none; align-items:center; justify-content:space-between; gap:10px; padding:12px 0 }
  .mobile-left{ display:flex; align-items:center; gap:10px }
  .mobile-logo-img{ height:32px; }
  .btn-circle{ width:44px; height:44px; border-radius:50%; display:inline-flex; align-items:center; justify-content:center; background:#fff; border:1px solid var(--mobile-btn-border); padding:0; cursor:pointer; position:relative; }
  .btn-circle svg path{ stroke: var(--mobile-icon) }

  .hamb .line{ position:absolute; width:20px; height:2px; background:var(--mobile-icon); border-radius:2px; transition:transform .25s,opacity .2s,top .25s,background-color .2s; }
  .hamb .line1{ top:15px } .hamb .line2{ top:21px } .hamb .line3{ top:27px }
  .hamb.open{ background:#000; border-color:#000 }
  .hamb.open .line1{ transform:rotate(45deg); top:21px; background:#fff }
  .hamb.open .line2{ opacity:0 }
  .hamb.open .line3{ transform:rotate(-45deg); top:21px; background:#fff }

  .menu-overlay{ position:fixed; inset:0; z-index:220; background:#fff; color:#000; visibility:hidden; opacity:0; pointer-events:none; transform:translateY(-8px); transition:opacity .22s ease, transform .22s ease, visibility 0s linear .22s; }
  .menu-overlay.open{ visibility:visible; opacity:1; pointer-events:auto; transform:translateY(0); transition:opacity .22s ease, transform .22s ease }

  /* Búsqueda FULLSCREEN móvil */
  .search-overlay{ position:fixed; inset:0; z-index:230; background:#fff; color:#111; visibility:hidden; opacity:0; pointer-events:none; transform:translateY(8px); transition:opacity .22s ease, transform .22s ease, visibility 0s linear .22s; }
  .search-overlay.open{ visibility:visible; opacity:1; pointer-events:auto; transform:translateY(0); transition:opacity .22s ease, transform .22s ease }
  .so-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:14px; border-bottom:1px solid #edf0f3 }
  .so-title{ font-weight:800; font-size:1rem }
  .so-input{ display:flex; align-items:center; gap:10px; padding:12px 16px; border-radius:999px; background:#f5f6f7; border:1px solid #e7eaee; margin:12px 14px }
  .so-input input{ flex:1; border:0; outline:0; background:transparent; font:inherit }
  .so-list{ margin:0 14px 14px; border:1px solid #edf0f3; border-radius:12px; overflow:hidden }
  .so-item{ display:flex; align-items:center; gap:12px; padding:12px 14px; cursor:pointer }
  .so-item:hover{ background:#f7f8f9 }
  .so-icon{ width:36px; height:36px; border-radius:10px; overflow:hidden; background:#111 }
  .so-icon img{ width:100%; height:100%; object-fit:cover }
  .so-scroll{ height:calc(100vh - 140px); overflow:auto }

  @media (prefers-reduced-motion: reduce){
    .menu-overlay,.search-overlay { transition: none !important; transform:none !important }
  }

  @media (max-width:900px){
    .navbar{ display:none }
    .mobile-bar{ display:flex }
    .menu{ display:none }
    .right{ display:flex; gap:10px }
    .right .currency,.right .link{ display:none }
    .search{ display:none }
    .home-hero .hero-search{ display:none } /* en móvil usamos el buscador full-screen */
    /* botón Iniciar sesión móvil blanco */
    .mobile-right .signin{
      background:#fff !important; color:#000 !important; border:1px solid var(--mobile-btn-border) !important;
      -webkit-backdrop-filter:none !important; backdrop-filter:none !important; box-shadow:none !important;
      padding:6px 14px; border-radius: var(--btn-radius);
    }
  }

  /* ===== HERO HOME ===== */
  .is-home .navbar .search{ display:none } /* oculta buscador del nav en Home */

  .home-hero{
    min-height: 68vh; display:flex; flex-direction:column; align-items:center; justify-content:center;
    text-align:center; gap:18px; padding:60px 16px; position:relative;
  }
  .home-title{ font-weight:900; letter-spacing:.2px; font-size:clamp(36px,6.2vw,64px); }
  .home-sub{ color:#e6e7eb; opacity:.95; font-size:clamp(16px,2.2vw,22px); }

  .hero-search{
    margin-top:8px; width:min(760px,90vw); background:#fff; color:#111;
    border-radius:14px; border:1px solid rgba(0,0,0,.08);
    display:flex; align-items:center; gap:10px; padding:14px 16px;
    box-shadow:0 18px 50px rgba(0,0,0,.28); position:relative;
  }
  .hero-search input{ flex:1; border:0; outline:0; background:transparent; font:500 16px/1.4 "Inter",ui-sans-serif; }
  .hero-search input::placeholder{ color:#6b7280 }

  /* Dropdown del HERO (idéntico estilo) */
  .hero-dropdown{ composes: dropdown; } /* (nota: si tu builder no soporta composes, heredamos manualmente abajo) */
  .hero-dropdown{
    position:absolute; left:0; top:100%; margin-top:10px;
    background:#fff; color:#111; border-radius:16px; border:1px solid rgba(0,0,0,.06);
    box-shadow:0 20px 50px rgba(0,0,0,.25); padding:16px 0; display:none; overflow:hidden;
  }
  .hero-dropdown.open{ display:block }
  .hd-header{ font-weight:800; padding:8px 20px 14px }
  .hd-list{ max-height:60vh; overflow:auto }
  .hd-item{ display:flex; align-items:center; gap:14px; padding:12px 20px; cursor:pointer }
  .hd-item:hover{ background:#f3f4f6 }
  .hd-icon{ width:40px; height:40px; border-radius:12px; background:#111; display:grid; place-items:center; overflow:hidden }
  .hd-icon img{ width:100%; height:100%; object-fit:cover }
  .hd-text{ font-weight:700 }
</style>
</head>

<body class="is-home">
<!-- NAV DESKTOP -->
<div class="navbar-wrap">
  <div class="container">
    <nav class="navbar">
      <img src="https://i.imgur.com/CHlEAsp.png" alt="Logo" class="logo-img" />
      <!-- (oculto en Home por CSS) -->
      <form class="search glass" role="search" aria-label="Buscar" id="searchForm">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M21 21l-3.8-3.8M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
        </svg>
        <input id="searchInput" type="search" placeholder="¿A quién te gustaría ver en vivo?" autocomplete="off"/>
        <div class="dropdown" id="searchDropdown"><div class="dd-header">Explorar categorías</div><div class="dd-list" id="sdList"></div></div>
      </form>
      <div class="menu"><a>Música</a><a>Deportes</a><a>Shows</a><a>Ciudades</a></div>
      <div class="right">
        <span class="currency"><img class="flag-img" src="https://upload.wikimedia.org/wikipedia/commons/f/fc/Flag_of_Mexico.svg" alt="MX">MXN</span>
        <a class="link">Vender</a>
        <a class="link">Soporte</a>
        <a class="signin glass" href="#">Iniciar sesión</a>
      </div>
    </nav>
  </div>
</div>

<!-- NAV MÓVIL -->
<div class="mobile-bar container">
  <div class="mobile-left">
    <button class="btn-circle hamb" id="btnHamb" aria-label="Abrir menú" aria-expanded="false" aria-controls="menuOverlay" style="z-index:300">
      <span class="line line1"></span><span class="line line2"></span><span class="line line3"></span>
    </button>
    <img src="https://i.imgur.com/CHlEAsp.png" alt="Logo" class="mobile-logo-img" />
  </div>
  <div class="mobile-right" style="display:flex; gap:8px; align-items:center;">
    <button class="btn-circle" id="btnSearch" aria-label="Buscar">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M21 21l-3.8-3.8M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>
    </button>
    <a class="signin glass" href="#">Iniciar sesión</a>
  </div>
</div>

<!-- HERO HOME -->
<section class="home-hero container">
  <h1 class="home-title">Let there be live</h1>
  <p class="home-sub">Your next best-night-ever is waiting</p>

  <form class="hero-search" id="heroSearchForm" role="search" aria-label="Buscar en Home">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M21 21l-3.8-3.8M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z"
            stroke="#111" stroke-width="1.6" stroke-linecap="round"/>
    </svg>
    <input id="heroSearchInput" type="search" placeholder="¿A quién te gustaría ver en vivo?" autocomplete="off">
    <!-- Dropdown del HERO -->
    <div class="hero-dropdown" id="heroDropdown">
      <div class="hd-header">Explorar categorías</div>
      <div class="hd-list" id="heroList"></div>
    </div>
  </form>
</section>

<!-- OVERLAYS MÓVIL (sin cambios) -->
<div id="menuOverlay" class="menu-overlay" aria-hidden="true">
  <div class="mo-content">
    <div class="mo-section"><div class="mo-title">Explorar</div><nav class="mo-list"><a>Música</a><a>Deportes</a><a>Shows</a><a>Ciudades</a></nav></div>
    <div class="mo-sep"></div>
    <div class="mo-section"><div class="mo-title">Opciones</div><div class="mo-list"><a>Vender</a><a>Soporte</a><div class="mo-currency"><img src="https://upload.wikimedia.org/wikipedia/commons/f/fc/Flag_of_Mexico.svg" alt="MX">MXN</div></div></div>
  </div>
</div>

<div id="searchOverlay" class="search-overlay" aria-hidden="true">
  <div class="so-header"><div class="so-title">Buscar</div><button id="soClose" class="btn-circle" aria-label="Cerrar">✕</button></div>
  <div class="so-input"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 21l-3.8-3.8M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="#666" stroke-width="1.6" stroke-linecap="round"/></svg><input id="mSearch" type="search" placeholder="¿A quién te gustaría ver en vivo?" autofocus /></div>
  <div class="so-scroll"><div id="soList" class="so-list"></div></div>
</div>

<!-- CONTENIDO DEMO -->
<div class="container hero-content">
  <h1>Encuentra tu siguiente evento</h1>
  <p>Compra y vende boletos de manera segura, con la mejor experiencia peer-to-peer.</p>
</div>

<script>
  /* Datos demo */
  const CATS = [
    {label:"Conciertos", img:"https://images.unsplash.com/photo-1489515217757-5fd1be406fef?q=80&w=200&auto=format&fit=crop"},
    {label:"NFL",       img:"https://images.unsplash.com/photo-1502877338535-766e1452684a?q=80&w=200&auto=format&fit=crop"},
    {label:"MLB",       img:"https://images.unsplash.com/photo-1519866663826-7e1967cb3eec?q=80&w=200&auto=format&fit=crop"},
    {label:"NBA",       img:"https://images.unsplash.com/photo-1519861531473-9200262188bf?q=80&w=200&auto=format&fit=crop"},
    {label:"NHL",       img:"https://images.unsplash.com/photo-1547347298-bb9a5f30d1b1?q=80&w=200&auto=format&fit=crop"},
    {label:"MLS",       img:"https://images.unsplash.com/photo-1517927033932-b3d18e61fb3a?q=80&w=200&auto=format&fit=crop"},
    {label:"Fórmula 1", img:"https://images.unsplash.com/photo-1503777119540-1d4a2c42f113?q=80&w=200&auto=format&fit=crop"},
    {label:"Teatro",    img:"https://images.unsplash.com/photo-1503095396549-807759245b35?q=80&w=200&auto=format&fit=crop"},
    {label:"Festivales",img:"https://images.unsplash.com/photo-1506157786151-b8491531f063?q=80&w=200&auto=format&fit=crop"}
  ];

  /* ===== Dropdown de NAV (existente) ===== */
  const body = document.body;
  const form = document.getElementById('searchForm');
  const search = document.getElementById('searchInput');
  const dropdown = document.getElementById('searchDropdown');
  const list = document.getElementById('sdList');

  function renderList(container, items, itemClass, iconClass, textClass, onPick){
    container.innerHTML = "";
    items.forEach(({label,img})=>{
      const el = document.createElement('div');
      el.className = itemClass;
      el.innerHTML = `<div class="${iconClass}"><img src="${img}" alt=""></div><div class="${textClass}">${label}</div>`;
      el.addEventListener('click', ()=> onPick(label));
      container.appendChild(el);
    });
  }

  function renderDesktop(items){ renderList(list, items, 'dd-item', 'dd-icon', 'dd-text', (label)=>{ search.value = label; submitSearch(); }); }
  renderDesktop(CATS);

  function measureTextWidth(text,font){
    const c = measureTextWidth._c || (measureTextWidth._c = document.createElement("canvas"));
    const ctx = c.getContext("2d"); ctx.font = font; return ctx.measureText(text).width;
  }
  function currentFont(el){ const cs = getComputedStyle(el); return `${cs.fontWeight} ${cs.fontSize} ${cs.fontFamily}`; }
  function resizeSearch(){
    if(!form) return;
    const font = currentFont(search);
    const value = search.value.trim();
    const basis = value.length ? value : search.placeholder;
    const w = measureTextWidth(basis, font);
    const total = Math.ceil(w + 20 + 42 + 6);
    form.style.width = total + "px";
    positionDropdown();
  }
  function openDropdown(){ if(!dropdown) return; dropdown.classList.add('open'); body.classList.add('search-active'); resizeSearch(); }
  function closeDropdown(){ if(!dropdown) return; dropdown.classList.remove('open'); body.classList.remove('search-active'); resizeSearch(); }
  function positionDropdown(){ if(!form || !dropdown) return; const rect = form.getBoundingClientRect(); dropdown.style.width = rect.width + 'px'; dropdown.style.left = 0; }
  window.addEventListener('resize', ()=>{ if(dropdown?.classList.contains('open')) positionDropdown(); });
  search?.addEventListener('focus', openDropdown);
  search?.addEventListener('input', ()=>{
    const q = search.value.toLowerCase().trim();
    const filtered = CATS.filter(c => c.label.toLowerCase().includes(q));
    renderDesktop(filtered.length ? filtered : CATS);
    resizeSearch();
  });
  document.addEventListener('click', (e)=>{ if(form && !form.contains(e.target)){ closeDropdown(); }});
  window.addEventListener('DOMContentLoaded', resizeSearch);
  form?.addEventListener('submit', e=>{ e.preventDefault(); submitSearch(); });
  function submitSearch(){ closeDropdown(); alert('Buscar: ' + (search?.value || '')); }

  /* ===== Dropdown del HERO (nuevo) ===== */
  const heroForm = document.getElementById('heroSearchForm');
  const heroInput = document.getElementById('heroSearchInput');
  const heroDropdown = document.getElementById('heroDropdown');
  const heroList = document.getElementById('heroList');

  function positionHeroDropdown(){
    if(!heroForm || !heroDropdown) return;
    const rect = heroForm.getBoundingClientRect();
    heroDropdown.style.width = rect.width + 'px';
    heroDropdown.style.left = 0;
  }
  function openHeroDropdown(){ heroDropdown.classList.add('open'); positionHeroDropdown(); }
  function closeHeroDropdown(){ heroDropdown.classList.remove('open'); }

  function renderHero(items){
    renderList(heroList, items, 'hd-item', 'hd-icon', 'hd-text', (label)=>{ heroInput.value = label; submitHero(); });
  }
  renderHero(CATS);

  heroInput.addEventListener('focus', openHeroDropdown);
  heroInput.addEventListener('input', ()=>{
    const q = heroInput.value.toLowerCase().trim();
    const filtered = CATS.filter(c => c.label.toLowerCase().includes(q));
    renderHero(filtered.length ? filtered : CATS);
    positionHeroDropdown();
  });
  heroForm.addEventListener('submit', (e)=>{ e.preventDefault(); submitHero(); });

  function submitHero(){ closeHeroDropdown(); alert('Buscar: ' + heroInput.value); }

  window.addEventListener('resize', ()=>{ if(heroDropdown.classList.contains('open')) positionHeroDropdown(); });
  document.addEventListener('click', (e)=>{ if(heroForm && !heroForm.contains(e.target)){ closeHeroDropdown(); }});

  /* ===== NAV móvil & búsqueda móvil (igual que antes) ===== */
  const btnHamb = document.getElementById('btnHamb');
  const menuOverlay = document.getElementById('menuOverlay');
  function openMenu(){ menuOverlay.classList.add('open'); menuOverlay.setAttribute('aria-hidden','false'); btnHamb.classList.add('open'); btnHamb.setAttribute('aria-expanded','true'); document.documentElement.style.overflow='hidden'; document.body.style.overflow='hidden'; }
  function closeMenu(){ menuOverlay.classList.remove('open'); menuOverlay.setAttribute('aria-hidden','true'); btnHamb.classList.remove('open'); btnHamb.setAttribute('aria-expanded','false'); document.documentElement.style.overflow=''; document.body.style.overflow=''; }
  btnHamb.addEventListener('click', ()=> menuOverlay.classList.contains('open') ? closeMenu() : openMenu());
  menuOverlay.addEventListener('click', (e)=>{ if(e.target.closest('a')) closeMenu(); });
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && menuOverlay.classList.contains('open')) closeMenu(); });

  const btnSearch = document.getElementById('btnSearch'), searchOverlay = document.getElementById('searchOverlay'), soClose = document.getElementById('soClose'), mSearch = document.getElementById('mSearch'), soList = document.getElementById('soList');
  function openSearchOverlay(){ searchOverlay.classList.add('open'); searchOverlay.setAttribute('aria-hidden','false'); btnHamb.style.display='none'; setTimeout(()=> mSearch.focus(), 50); document.documentElement.style.overflow='hidden'; document.body.style.overflow='hidden'; }
  function closeSearchOverlay(){ searchOverlay.classList.remove('open'); searchOverlay.setAttribute('aria-hidden','true'); btnHamb.style.display='inline-flex'; document.documentElement.style.overflow=''; document.body.style.overflow=''; }
  btnSearch.addEventListener('click', openSearchOverlay);
  soClose.addEventListener('click', closeSearchOverlay);
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && searchOverlay.classList.contains('open')) closeSearchOverlay(); });

  function renderMobile(items){
    soList.innerHTML = "";
    items.forEach(({label,img})=>{
      const row = document.createElement('div');
      row.className = 'so-item';
      row.innerHTML = `<div class="so-icon"><img src="${img}" alt=""></div><div style="font-weight:700">${label}</div>`;
      row.addEventListener('click', ()=>{ mSearch.value = label; submitMobile(); });
      soList.appendChild(row);
    });
  }
  renderMobile(CATS);
  mSearch.addEventListener('input', ()=>{ const q = mSearch.value.toLowerCase().trim(); const filtered = CATS.filter(c => c.label.toLowerCase().includes(q)); renderMobile(filtered.length ? filtered : CATS); });
  function submitMobile(){ closeSearchOverlay(); alert('Buscar: ' + mSearch.value); }
</script>
</body>
</html>
